<div class="container">

  <hr class="my-9 titleline">

  <div class="row g-2">
    <div class="col-lg-8">
      <div class="section-title-header mb-1">
        <h2 class="section-title-bg" id="remember">Recuerda que puedes solicitar el escaneo de tu casa o apartamento
          para obtener mejores visitas</h2>
      </div>
    </div>
    <div class="col-lg-2">
      <div class="text-center mb-1">
        <a routerLink="/scannerform" rel="nofollow" class="btn btn-common btn-lg">Solicitar Ahora</a>
      </div>
    </div>
  </div>
  <hr class="my-3 titleline">
  <div *ngIf="isLoggedIn; else loggedOut">
    <div class="row g-5 mt-5">
      <div class="col-md-7" [formGroup]="roomForm">
        <div class="form-row">
          <div class="col-lg-12">
            <div class="form-group">
              <label for="nombre" class="form-label">Título</label>
              <input formControlName="nombre" type="text" class="form-control" id="nombre" name="nombre"
                placeholder="Nombre de tu room">
              <div class="invalid-feedback">
                Coloca un nombre a tu publicacion (min 50 caracteres).
              </div>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col-lg-12">
            <div id="inputContainer">
              <div class="form-group">
                <mat-google-maps-autocomplete [appearance]="'outline'" type="address" addressLabelText="Dirección"
                  (onAutocompleteSelected)="onAutocompleteSelected($event)"
                  (onLocationSelected)="onLocationSelected($event)"
                  (onGermanAddressMapped)="onGermanAddressMapped($event)">
                </mat-google-maps-autocomplete>
              </div>
            </div>
<!--            <div class="form-group">-->
<!--              <label>Direcciòn seleccionada:</label>-->
<!--              <input class="form-control mr-sm-4" placeholder="" class="form-control" value="{{fijardireccion}}"-->
<!--                disabled>-->
<!--              <input type="hidden" formControlName="direccion" name="direccion" id="direccion"-->
<!--                value="{{fijardireccion}}">-->
<!--            </div>-->
          </div>
        </div>
        <div class="form-row">
          <div class="col-lg-6">
            <div class="form-group">
              <label for="size" class="form-label">Superficie</label>
              <div class="input-group">
                <input formControlName="superficie" type="number" class="form-control" id="size" name="size"
                  placeholder="Superficie" value="" required>
                <div class="input-group-append">
                  <span class="input-group-text">m²</span>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="form-group">
              <label for="area" class="form-label">Area construida</label>
              <div class="input-group">
                <input formControlName="areaConstruida" type="number" class="form-control" id="area" name="area"
                  placeholder="Area" value="" required>
                <div class="input-group-append">
                  <span class="input-group-text">m²</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col-lg-6">
            <div class="form-group">
              <label for="price" class="form-label">Precio</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text">$</span>
                </div>
                <input [imask]="mask" [unmask]="true" formControlName="precio" type="text" class="moned form-control "
                  id="price" name="price" placeholder="Precio" value="" required>
              </div>
              <div class="invalid-feedback">
                Precio del inmueble
              </div>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="form-group">
              <label for="tipo">Tipo de publicación</label>
              <select id="tipo" formControlName="tipo" name="tipo" class="custom-select form-control" required>
                <option selected disabled>Elegir...</option>
                <option value="Arriendo">Arriendo</option>
                <option value="Venta">Venta</option>
              </select>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <div class="form-group">
<<<<<<< Updated upstream
              <label for="fotos" class="form-label">Escribe la url de las fotos</label>
=======
              <label for="fotos" class="form-label">Escribe la URL de las fotos</label>
>>>>>>> Stashed changes
              <textarea formControlName="fotos" type="text" class="form-control" id="fotos" name="fotos" placeholder=""
                value="https://my.matterport.com/show/?m=hxxiupwiN4C" pattern="[A-Za-z0-9]{1,300}" required></textarea>
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="col-12">
            <div class="form-group">
              <label for="description" class="form-label">Descripción</label>
              <textarea formControlName="descripcion" type="text" class="form-control" id="description"
                name="description" placeholder="" value="" pattern="[A-Za-z0-9]{1,250}" required></textarea>
              <div class="invalid-feedback">
                La descripcion no puede estar vacia (max 300 caracteres)
              </div>
            </div>
          </div>
        </div>
        <div class="form-row">
          <hr class="my-3">
<<<<<<< Updated upstream
            <button (click)="crearInmueble(); resetForm()" class="w-100 btn btn-primary btn-lg" type="submit" id="submitBtn">Crear Inmueble</button>
=======
          <button (click)="crearInmueble(); resetForm()" class="w-100 btn btn-primary btn-lg" type="submit" id="submitBtn">Crear
            Inmueble</button>
>>>>>>> Stashed changes
        </div>


        <div class="alert alert-success" role="alert" *ngIf="isSuccessful">
          <p> {{successfulMessage}}</p>
        </div>
        <div class="alert alert-danger" role="alert" *ngIf="isSignUpFailed">
          <p>{{errorMessage}}</p>
        </div>
      </div>

      <div class="col-md-5 rounded">
        <agm-map [latitude]="latitude" [longitude]="longitude" [scrollwheel]="false" [zoom]="zoom" [styles]="styles">
          <agm-marker [latitude]="latitude" [longitude]="longitude" [iconUrl]="'../assets/img/AptMarker.svg'">
          </agm-marker>
        </agm-map>
      </div>

    </div>
    <hr class="my-5">
  </div>
  <ng-template #loggedOut>
    <div class="row mb-5">
      <div class="col-lg-12">
        <a class="btn btn-common btn-lg mr-3" routerLink="/login" outerLink="login"><i class="lni-lock"></i> iniciar
          Sesión</a>
        <a href="/register" class="btn btn-common btn-lg" outerLink="register"><i class="lni-pencil"></i>
          Registrarse</a>
      </div>
    </div>
  </ng-template>
</div>
